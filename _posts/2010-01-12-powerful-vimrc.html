--- 
status: publish
layout: post
title: !binary |
  5Y+y5LiK5pyA5by6dmltcmM=

meta: 
  _jd_wp_twitter: "Post Edited: \xE5\x8F\xB2\xE4\xB8\x8A\xE6\x9C\x80\xE5\xBC\xBAvimrc http://huangjian.info/136/powerful-vimrc/"
  _aioseop_keywords: vim,vimrc
  _aioseop_description: !binary |
    5Y+y5LiK5pyA5by6dmltcmM=

  _wp_jd_bitly: ""
  _wp_jd_clig: ""
  _wp_old_slug: "%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%bc%bavimrc"
  _wp_jd_wp: http://huangjian.info/136/powerful-vimrc/
  _edit_last: "1"
  _wp_jd_yourls: ""
  _jd_post_meta_fixed: "true"
  _wp_jd_target: http://huangjian.info/136/powerful-vimrc/
  _wp_jd_url: ""
  _jd_twitter: ""
  _jd_tweet_this: "yes"
  _aioseop_title: !binary |
    5Y+y5LiK5pyA5by6dmltcmM=

tags: 
- Technics
- vim
- vimrc
published: true
type: post
---
看到easwy博客上的一个vimrc例子，好好学习</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" _</br>
" __ | \</br>
" / | /</br>
" \__ | \</br>
" by Amix - http://amix.dk/</br>
"</br>
" Maintainer: Amir Salihefendic</br>
" Version: 2.7</br>
" Last Change: 12/10/06 00:09:21</br>
"</br>
</br>
<!--more--></br>
" Sections:</br>
" ----------------------</br>
" General</br>
" Colors and Fonts</br>
" Fileformats</br>
" VIM userinterface</br>
" Statusline</br>
" Visual</br>
" Moving around and tabs</br>
" General Autocommands</br>
" Parenthesis/bracket expanding</br>
" General Abbrevs</br>
" Editing mappings etc.</br>
" Command-line config</br>
" Buffer realted</br>
" Files and backups</br>
" Folding</br>
" Text options</br>
" Indent</br>
" Spell checking</br>
" Plugin configuration</br>
" Yank ring</br>
" File explorer</br>
" Minibuffer</br>
" Tag list (ctags) - not used</br>
" LaTeX Suite things</br>
" Filetype generic</br>
" Todo</br>
" VIM</br>
" HTML related</br>
" Ruby &amp; PHP section</br>
" Python section</br>
" Cheetah section</br>
" Vim section</br>
" Java section</br>
" JavaScript section</br>
" C mappings</br>
" SML</br>
" Scheme bindings</br>
" Snippets</br>
" Python</br>
" javaScript</br>
" Cope</br>
" MISC</br>
"</br>
" Tip:</br>
" If you find anything that you can't understand than do this:</br>
" help keyword OR helpgrep keywords</br>
" Example:</br>
" Go into command-line mode and type helpgrep nocompatible, ie.</br>
" :helpgrep nocompatible</br>
" then press c to see the results, or :botright cw</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" General</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Get out of VI's compatible mode..</br>
set nocompatible</br>
</br>
"Sets how many lines of history VIM har to remember</br>
set history=400</br>
</br>
"Enable filetype plugin</br>
filetype plugin on</br>
filetype indent on</br>
</br>
"Set to auto read when a file is changed from the outside</br>
set autoread</br>
</br>
"Have the mouse enabled all the time:</br>
set mouse=a</br>
</br>
"Set mapleader</br>
let mapleader = ","</br>
let g:mapleader = ","</br>
</br>
"Fast saving</br>
nmap w :w!</br>
nmap f :find</br>
</br>
"Fast reloading of the .vimrc</br>
map s :source ~/vim_local/vimrc</br>
"Fast editing of .vimrc</br>
map e :e! ~/vim_local/vimrc</br>
"When .vimrc is edited, reload it</br>
autocmd! bufwritepost vimrc source ~/vim_local/vimrc</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Colors and Fonts</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Enable syntax hl</br>
syntax enable</br>
</br>
"Set font to Monaco 10pt</br>
if MySys() == "mac"</br>
set gfn=Bitstream\ Vera\ Sans\ Mono:h14</br>
set nomacatsui</br>
set termencoding=macroman</br>
elseif MySys() == "linux"</br>
set gfn=Monospace\ 11</br>
endif</br>
</br>
if has("gui_running")</br>
set guioptions-=T</br>
let psc_style='cool'</br>
colorscheme ps_color</br>
else</br>
set background=dark</br>
colorscheme zellner</br>
endif</br>
</br>
"Some nice mapping to switch syntax (useful if one mixes different languages in one file)</br>
map 1 :set syntax=cheetah</br>
map 2 :set syntax=xhtml</br>
map 3 :set syntax=python</br>
map 4 :set ft=javascript</br>
map $ :syntax sync fromstart</br>
</br>
autocmd BufEnter * :syntax sync fromstart</br>
</br>
"Highlight current</br>
if has("gui_running")</br>
set cursorline</br>
hi cursorline guibg=#333333</br>
hi CursorColumn guibg=#333333</br>
endif</br>
</br>
"Omni menu colors</br>
hi Pmenu guibg=#333333</br>
hi PmenuSel guibg=#555555 guifg=#ffffff</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Fileformats</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Favorite filetypes</br>
set ffs=unix,dos,mac</br>
</br>
nmap fd :se ff=dos</br>
nmap fu :se ff=unix</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" VIM userinterface</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Set 7 lines to the curors - when moving vertical..</br>
set so=7</br>
</br>
"Turn on WiLd menu</br>
set wildmenu</br>
</br>
"Always show current position</br>
set ruler</br>
</br>
"The commandbar is 2 high</br>
set cmdheight=2</br>
</br>
"Show line number</br>
set nu</br>
</br>
"Do not redraw, when running macros.. lazyredraw</br>
set lz</br>
</br>
"Change buffer - without saving</br>
set hid</br>
</br>
"Set backspace</br>
set backspace=eol,start,indent</br>
</br>
"Bbackspace and cursor keys wrap to</br>
set whichwrap+=&lt;,&gt;,h,l</br>
</br>
"Ignore case when searching</br>
set ignorecase</br>
set incsearch</br>
</br>
"Set magic on</br>
set magic</br>
</br>
"No sound on errors.</br>
set noerrorbells</br>
set novisualbell</br>
set t_vb=</br>
</br>
"show matching bracets</br>
set showmatch</br>
</br>
"How many tenths of a second to blink</br>
set mat=2</br>
</br>
"Highlight search things</br>
set hlsearch</br>
</br>
""""""""""""""""""""""""""""""</br>
" Statusline</br>
""""""""""""""""""""""""""""""</br>
"Always hide the statusline</br>
set laststatus=2</br>
</br>
function! CurDir()</br>
let curdir = substitute(getcwd(), '/Users/amir/', "~/", "g")</br>
return curdir</br>
endfunction</br>
</br>
"Format the statusline</br>
set statusline=\ %F%m%r%h\ %w\ \ CWD:\ %r%{CurDir()}%h\ \ \ Line:\ %l/%L:%c</br>
</br>
""""""""""""""""""""""""""""""</br>
" Visual</br>
""""""""""""""""""""""""""""""</br>
" From an idea by Michael Naumann</br>
function! VisualSearch(direction) range</br>
let l:saved_reg = @"</br>
execute "normal! vgvy"</br>
let l:pattern = escape(@", '\\/.*$^~[]')</br>
let l:pattern = substitute(l:pattern, "\n$", "", "")</br>
if a:direction == 'b'</br>
execute "normal ?" . l:pattern . "^M"</br>
else</br>
execute "normal /" . l:pattern . "^M"</br>
endif</br>
let @/ = l:pattern</br>
let @" = l:saved_reg</br>
endfunction</br>
</br>
"Basically you press * or # to search for the current selection !! Really useful</br>
vnoremap * :call VisualSearch('f')</br>
vnoremap # :call VisualSearch('b')</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Moving around and tabs</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Map space to / and c-space to ?</br>
map /</br>
map ?</br>
</br>
"Smart way to move btw. windows</br>
map j</br>
map k</br>
map h</br>
map l</br>
</br>
"Actually, the tab does not switch buffers, but my arrows</br>
"Bclose function ca be found in "Buffer related" section</br>
map bd :Bclose</br>
map bd</br>
"Use the arrows to something usefull</br>
map :bn</br>
map :bp</br>
</br>
"Tab configuration</br>
map tn :tabnew %</br>
map te :tabedit</br>
map tc :tabclose</br>
map tm :tabmove</br>
try</br>
set switchbuf=usetab</br>
set stal=2</br>
catch</br>
endtry</br>
</br>
"Moving fast to front, back and 2 sides ;)</br>
imap $a</br>
imap 0i</br>
imap $a</br>
imap 0i</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" General Autocommands</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Switch to current dir</br>
map cd :cd %:p:h</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Parenthesis/bracket expanding</br>
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
vnoremap $1 `&gt;a)`</br>
")</br>
vnoremap $2 `&gt;a]`</br>
vnoremap $3 `&gt;a}`</br>
vnoremap $$ `&gt;a"`</br>
vnoremap $q `&gt;a'`</br>
vnoremap $w `&gt;a"`</br>
</br>
"Map auto complete of (, ", ', [</br>
inoremap $1 ():let leavechar=")"i</br>
inoremap $2 []:let leavechar="]"i</br>
inoremap $4 {o}:let leavechar="}"O</br>
inoremap $3 {}:let leavechar="}"i</br>
inoremap $q '':let leavechar="'"i</br>
inoremap $w "":let leavechar='"'i</br>
au BufNewFile,BufRead *.\(vim\)\@! inoremap " "":let leavechar='"'i</br>
au BufNewFile,BufRead *.\(txt\)\@! inoremap ' '':let leavechar="'"i</br>
</br>
imap :exec "normal f" . leavechara</br>
imap :exec "normal f" . leavechara</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" General Abbrevs</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"My information</br>
iab xdate =strftime("%d/%m/%y %H:%M:%S")</br>
iab xname Amir Salihefendic</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Editing mappings etc.</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Remap VIM 0</br>
map 0 ^</br>
</br>
"Move a line of text using control</br>
nmap mz:m+`z</br>
nmap mz:m-2`z</br>
vmap :m'&gt;+`mzgv`yo`z</br>
vmap :m'&lt;-2`&gt;my`</br>
</br>
if MySys() == "mac"</br>
nmap</br>
nmap</br>
vmap</br>
vmap</br>
endif</br>
</br>
func! DeleteTrailingWS()</br>
exe "normal mz"</br>
%s/\s\+$//ge</br>
exe "normal `z"</br>
endfunc</br>
autocmd BufWrite *.py :call DeleteTrailingWS()</br>
</br>
set completeopt=menu</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Command-line config</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
func! Cwd()</br>
let cwd = getcwd()</br>
return "e " . cwd</br>
endfunc</br>
</br>
func! DeleteTillSlash()</br>
let g:cmd = getcmdline()</br>
if MySys() == "linux" || MySys() == "mac"</br>
let g:cmd_edited = substitute(g:cmd, "\\(.*\[/\]\\).*", "\\1", "")</br>
else</br>
let g:cmd_edited = substitute(g:cmd, "\\(.*\[\\\\]\\).*", "\\1", "")</br>
endif</br>
if g:cmd == g:cmd_edited</br>
if MySys() == "linux" || MySys() == "mac"</br>
let g:cmd_edited = substitute(g:cmd, "\\(.*\[/\]\\).*/", "\\1", "")</br>
else</br>
let g:cmd_edited = substitute(g:cmd, "\\(.*\[\\\\\]\\).*\[\\\\\]", "\\1", "")</br>
endif</br>
endif</br>
return g:cmd_edited</br>
endfunc</br>
</br>
func! CurrentFileDir(cmd)</br>
return a:cmd . " " . expand("%:p:h") . "/"</br>
endfunc</br>
</br>
"Smart mappings on the command line</br>
cno $h e ~/</br>
cno $d e ~/Desktop/</br>
cno $j e ./</br>
</br>
cno $q eDeleteTillSlash()</br>
</br>
cno $c e eCurrentFileDir("e")</br>
</br>
cno $tc eCurrentFileDir("tabnew")</br>
cno $th tabnew ~/</br>
cno $td tabnew ~/Desktop/</br>
</br>
"Bash like</br>
cnoremap</br>
cnoremap</br>
cnoremap</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Buffer realted</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Fast open a buffer by search for a name</br>
map :sb</br>
</br>
"Open a dummy buffer for paste</br>
map q :e ~/buffer</br>
</br>
"Restore cursor to file position in previous editing session</br>
set viminfo='10,\"100,:20,%,n~/.viminfo</br>
au BufReadPost * if line("'\"") &gt; 0|if line("'\"") &lt;= line("$")|exe("norm '\"")|else|exe "norm $"|endif|endif</br>
</br>
" Buffer - reverse everything ... :)</br>
map ggVGg?</br>
</br>
" Don't close window, when deleting a buffer</br>
command! Bclose call BufcloseCloseIt()</br>
</br>
function! BufcloseCloseIt()</br>
let l:currentBufNum = bufnr("%")</br>
let l:alternateBufNum = bufnr("#")</br>
</br>
if buflisted(l:alternateBufNum)</br>
buffer #</br>
else</br>
bnext</br>
endif</br>
</br>
if bufnr("%") == l:currentBufNum</br>
new</br>
endif</br>
</br>
if buflisted(l:currentBufNum)</br>
execute("bdelete! ".l:currentBufNum)</br>
endif</br>
endfunction</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Files and backups</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Turn backup off</br>
set nobackup</br>
set nowb</br>
set noswapfile</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Folding</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Enable folding, I find it very useful</br>
set nofen</br>
set fdl=0</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Text options</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
set expandtab</br>
set shiftwidth=2</br>
</br>
map t2 :set shiftwidth=2</br>
map t4 :set shiftwidth=4</br>
au FileType html,python,vim,javascript setl shiftwidth=2</br>
au FileType html,python,vim,javascript setl tabstop=2</br>
au FileType java setl shiftwidth=4</br>
au FileType java setl tabstop=4</br>
</br>
set smarttab</br>
set lbr</br>
set tw=500</br>
</br>
""""""""""""""""""""""""""""""</br>
" Indent</br>
""""""""""""""""""""""""""""""</br>
"Auto indent</br>
set ai</br>
</br>
"Smart indet</br>
set si</br>
</br>
"C-style indeting</br>
set cindent</br>
</br>
"Wrap lines</br>
set wrap</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Spell checking</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
map sn ]s</br>
map sp [s</br>
map sa zg</br>
map s? z=</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Plugin configuration</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
""""""""""""""""""""""""""""""</br>
" Vim Grep</br>
""""""""""""""""""""""""""""""</br>
let Grep_Skip_Dirs = 'RCS CVS SCCS .svn'</br>
let Grep_Cygwin_Find = 1</br>
</br>
""""""""""""""""""""""""""""""</br>
" Yank Ring</br>
""""""""""""""""""""""""""""""</br>
map y :YRShow</br>
</br>
""""""""""""""""""""""""""""""</br>
" File explorer</br>
""""""""""""""""""""""""""""""</br>
"Split vertically</br>
let g:explVertical=1</br>
</br>
"Window size</br>
let g:explWinSize=35</br>
</br>
let g:explSplitLeft=1</br>
let g:explSplitBelow=1</br>
</br>
"Hide some files</br>
let g:explHideFiles='^\.,.*\.class$,.*\.swp$,.*\.pyc$,.*\.swo$,\.DS_Store$'</br>
</br>
"Hide the help thing..</br>
let g:explDetailedHelp=0</br>
</br>
""""""""""""""""""""""""""""""</br>
" Minibuffer</br>
""""""""""""""""""""""""""""""</br>
let g:miniBufExplModSelTarget = 1</br>
let g:miniBufExplorerMoreThanOne = 2</br>
let g:miniBufExplModSelTarget = 0</br>
let g:miniBufExplUseSingleClick = 1</br>
let g:miniBufExplMapWindowNavVim = 1</br>
let g:miniBufExplVSplit = 25</br>
let g:miniBufExplSplitBelow=1</br>
</br>
let g:bufExplorerSortBy = "name"</br>
</br>
autocmd BufRead,BufNew :call UMiniBufExplorer</br>
</br>
""""""""""""""""""""""""""""""</br>
" Tag list (ctags) - not used</br>
""""""""""""""""""""""""""""""</br>
"let Tlist_Ctags_Cmd = "/sw/bin/ctags-exuberant"</br>
"let Tlist_Sort_Type = "name"</br>
"let Tlist_Show_Menu = 1</br>
"map t :Tlist</br>
</br>
""""""""""""""""""""""""""""""</br>
" LaTeX Suite things</br>
""""""""""""""""""""""""""""""</br>
set grepprg=grep\ -nH\ $*</br>
let g:Tex_DefaultTargetFormat="pdf"</br>
let g:Tex_ViewRule_pdf='xpdf'</br>
</br>
"Bindings</br>
autocmd FileType tex map :w! :silent! call Tex_RunLaTeX()</br>
</br>
"Auto complete some things ;)</br>
autocmd FileType tex inoremap $i \indent</br>
autocmd FileType tex inoremap $* \cdot</br>
autocmd FileType tex inoremap $i \item</br>
autocmd FileType tex inoremap $m \[\]O</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Filetype generic</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Todo</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
au BufNewFile,BufRead *.todo so ~/vim_local/syntax/amido.vim</br>
</br>
""""""""""""""""""""""""""""""</br>
" VIM</br>
""""""""""""""""""""""""""""""</br>
autocmd FileType vim map :w!:source %</br>
</br>
""""""""""""""""""""""""""""""</br>
" HTML related</br>
""""""""""""""""""""""""""""""</br>
" HTML entities - used by xml edit plugin</br>
let xml_use_xhtml = 1</br>
"let xml_no_auto_nesting = 1</br>
</br>
"To HTML</br>
let html_use_css = 1</br>
let html_number_lines = 0</br>
let use_xhtml = 1</br>
</br>
""""""""""""""""""""""""""""""</br>
" Ruby &amp; PHP section</br>
""""""""""""""""""""""""""""""</br>
autocmd FileType ruby map :w!:!ruby %</br>
autocmd FileType php compiler php</br>
autocmd FileType php map cd:w:make %</br>
</br>
""""""""""""""""""""""""""""""</br>
" Python section</br>
""""""""""""""""""""""""""""""</br>
"Run the current buffer in python - ie. on leader+space</br>
au FileType python so ~/vim_local/syntax/python.vim</br>
autocmd FileType python map :w!:!python %</br>
autocmd FileType python so ~/vim_local/plugin/python_fold.vim</br>
</br>
"Set some bindings up for 'compile' of python</br>
autocmd FileType python set makeprg=python\ -c\ \"import\ py_compile,sys;\ sys.stderr=sys.stdout;\ py_compile.compile(r'%')\"</br>
autocmd FileType python set efm=%C\ %.%#,%A\ \ File\ \"%f\"\\,\ line\ %l%.%#,%Z%[%^\ ]%\\@=%m</br>
</br>
"Python iMaps</br>
au FileType python set cindent</br>
au FileType python inoremap $r return</br>
au FileType python inoremap $s self</br>
au FileType python inoremap $c ####kla</br>
au FileType python inoremap $i import</br>
au FileType python inoremap $p print</br>
au FileType python inoremap $d """"""O</br>
</br>
"Run in the Python interpreter</br>
function! Python_Eval_VSplit() range</br>
let src = tempname()</br>
let dst = tempname()</br>
execute ": " . a:firstline . "," . a:lastline . "w " . src</br>
execute ":!python " . src . " &gt; " . dst</br>
execute ":pedit! " . dst</br>
endfunction</br>
au FileType python vmap :call Python_Eval_VSplit()</br>
</br>
""""""""""""""""""""""""""""""</br>
" Cheetah section</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType cheetah set ft=xml</br>
autocmd FileType cheetah set syntax=cheetah</br>
</br>
"""""""""""""""""""""""""""""""</br>
" Vim section</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType vim set nofen</br>
</br>
"""""""""""""""""""""""""""""""</br>
" Java section</br>
"""""""""""""""""""""""""""""""</br>
au FileType java inoremap System.out.println();hi</br>
</br>
"Java comments</br>
autocmd FileType java source ~/vim_local/macros/jcommenter.vim</br>
autocmd FileType java let b:jcommenter_class_author='Amir Salihefendic (amix@amix.dk)'</br>
autocmd FileType java let b:jcommenter_file_author='Amir Salihefendic (amix@amix.dk)'</br>
autocmd FileType java map :call JCommentWriter()</br>
</br>
"Abbr'z</br>
autocmd FileType java inoremap $pr private</br>
autocmd FileType java inoremap $r return</br>
autocmd FileType java inoremap $pu public</br>
autocmd FileType java inoremap $i import</br>
autocmd FileType java inoremap $b boolean</br>
autocmd FileType java inoremap $v void</br>
autocmd FileType java inoremap $s String</br>
</br>
"Folding</br>
function! JavaFold()</br>
setl foldmethod=syntax</br>
setl foldlevelstart=1</br>
syn region foldBraces start=/{/ end=/}/ transparent fold keepend extend</br>
syn match foldImports /\(\n\?import.\+;\n\)\+/ transparent fold</br>
</br>
function! FoldText()</br>
return substitute(getline(v:foldstart), '{.*', '{...}', '')</br>
endfunction</br>
setl foldtext=FoldText()</br>
endfunction</br>
au FileType java call JavaFold()</br>
au FileType java setl fen</br>
</br>
au BufEnter *.sablecc,*.scc set ft=sablecc</br>
</br>
""""""""""""""""""""""""""""""</br>
" JavaScript section</br>
"""""""""""""""""""""""""""""""</br>
au FileType javascript so ~/vim_local/syntax/javascript.vim</br>
function! JavaScriptFold()</br>
setl foldmethod=syntax</br>
setl foldlevelstart=1</br>
syn region foldBraces start=/{/ end=/}/ transparent fold keepend extend</br>
</br>
function! FoldText()</br>
return substitute(getline(v:foldstart), '{.*', '{...}', '')</br>
endfunction</br>
setl foldtext=FoldText()</br>
endfunction</br>
au FileType javascript call JavaScriptFold()</br>
au FileType javascript setl fen</br>
</br>
au FileType javascript imap console.log();hi</br>
au FileType javascript imap alert();hi</br>
au FileType javascript setl nocindent</br>
au FileType javascript inoremap $r return</br>
</br>
au FileType javascript inoremap $d //////ka</br>
au FileType javascript inoremap $c /****/ka</br>
</br>
""""""""""""""""""""""""""""""</br>
" HTML</br>
"""""""""""""""""""""""""""""""</br>
au FileType html,cheetah set ft=xml</br>
au FileType html,cheetah set syntax=html</br>
</br>
""""""""""""""""""""""""""""""</br>
" C mappings</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType c map :w:!gcc %</br>
</br>
"""""""""""""""""""""""""""""""</br>
" SML</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType sml map cd:w:!sml %</br>
</br>
""""""""""""""""""""""""""""""</br>
" Scheme bidings</br>
""""""""""""""""""""""""""""""</br>
autocmd BufNewFile,BufRead *.scm map cd:w:!petite %</br>
autocmd BufNewFile,BufRead *.scm inoremap (pretty-print )i</br>
autocmd BufNewFile,BufRead *.scm vnoremap `&gt;a)`</br>
</br>
""""""""""""""""""""""""""""""</br>
" SVN section</br>
"""""""""""""""""""""""""""""""</br>
map :new:read !svn diff:set syntax=diff buftype=nofilegg</br>
</br>
""""""""""""""""""""""""""""""</br>
" Snippets</br>
"""""""""""""""""""""""""""""""</br>
"You can use to goto the next &lt;++&gt; - it is pretty smart ;)</br>
</br>
"""""""""""""""""""""""""""""""</br>
" Python</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType python inorea cfun =IMAP_PutTextWithMovement("def &lt;++&gt;(&lt;++&gt;):\n&lt;++&gt;\nreturn &lt;++&gt;")</br>
autocmd FileType python inorea cclass =IMAP_PutTextWithMovement("class &lt;++&gt;:\n&lt;++&gt;")</br>
autocmd FileType python inorea cfor =IMAP_PutTextWithMovement("for &lt;++&gt; in &lt;++&gt;:\n&lt;++&gt;")</br>
autocmd FileType python inorea cif =IMAP_PutTextWithMovement("if &lt;++&gt;:\n&lt;++&gt;")</br>
autocmd FileType python inorea cifelse =IMAP_PutTextWithMovement("if &lt;++&gt;:\n&lt;++&gt;\nelse:\n&lt;++&gt;")</br>
</br>
"""""""""""""""""""""""""""""""</br>
" JavaScript</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType cheetah,html,javascript inorea cfun =IMAP_PutTextWithMovement("function &lt;++&gt;(&lt;++&gt;) {\n&lt;++&gt;;\nreturn &lt;++&gt;;\n}")</br>
autocmd filetype cheetah,html,javascript inorea cfor =IMAP_PutTextWithMovement("for(&lt;++&gt;; &lt;++&gt;; &lt;++&gt;) {\n&lt;++&gt;;\n}")</br>
autocmd FileType cheetah,html,javascript inorea cif =IMAP_PutTextWithMovement("if(&lt;++&gt;) {\n&lt;++&gt;;\n}")</br>
autocmd FileType cheetah,html,javascript inorea cifelse =IMAP_PutTextWithMovement("if(&lt;++&gt;) {\n&lt;++&gt;;\n}\nelse {\n&lt;++&gt;;\n}")</br>
</br>
"""""""""""""""""""""""""""""""</br>
" HTML</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType cheetah,html inorea cahref =IMAP_PutTextWithMovement('<a href="<++>">&lt;++&gt;</a>')</br>
autocmd FileType cheetah,html inorea cbold =IMAP_PutTextWithMovement('<strong>&lt;++&gt;</strong>')</br>
autocmd FileType cheetah,html inorea cimg =IMAP_PutTextWithMovement('<img src="<++>" alt="<++>" />')</br>
autocmd FileType cheetah,html inorea cpara =IMAP_PutTextWithMovement('</br>
</br>
&lt;++&gt;</br>
</br>
')</br>
autocmd FileType cheetah,html inorea ctag =IMAP_PutTextWithMovement('&lt;&lt;++&gt;&gt;&lt;++&gt;<!--<++-->&gt;')</br>
autocmd FileType cheetah,html inorea ctag1 =IMAP_PutTextWithMovement("&lt;&lt;++&gt;&gt;&lt;++&gt;<!--<++-->&gt;")</br>
</br>
"""""""""""""""""""""""""""""""</br>
" Java</br>
"""""""""""""""""""""""""""""""</br>
autocmd FileType java inorea cfun =IMAP_PutTextWithMovement("public&lt;++&gt; &lt;++&gt;(&lt;++&gt;) {\n&lt;++&gt;;\nreturn &lt;++&gt;;\n}")</br>
autocmd FileType java inorea cfunpr =IMAP_PutTextWithMovement("private&lt;++&gt; &lt;++&gt;(&lt;++&gt;) {\n&lt;++&gt;;\nreturn &lt;++&gt;;\n}")</br>
autocmd FileType java inorea cfor =IMAP_PutTextWithMovement("for(&lt;++&gt;; &lt;++&gt;; &lt;++&gt;) {\n&lt;++&gt;;\n}")</br>
autocmd FileType java inorea cif =IMAP_PutTextWithMovement("if(&lt;++&gt;) {\n&lt;++&gt;;\n}")</br>
autocmd FileType java inorea cifelse =IMAP_PutTextWithMovement("if(&lt;++&gt;) {\n&lt;++&gt;;\n}\nelse {\n&lt;++&gt;;\n}")</br>
autocmd FileType java inorea cclass =IMAP_PutTextWithMovement("class &lt;++&gt; &lt;++&gt; {\n&lt;++&gt;\n}")</br>
autocmd FileType java inorea cmain =IMAP_PutTextWithMovement("public static void main(String[] argv) {\n&lt;++&gt;\n}")</br>
</br>
"Presse c-q insted of space (or other key) to complete the snippet</br>
imap</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" Cope</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"For Cope</br>
map :noh</br>
</br>
"Orginal for all</br>
map n :cn</br>
map p :cp</br>
map c :botright cw 10</br>
map :q:botright cw 10</br>
</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
" MISC</br>
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""</br>
"Remove the Windows ^M</br>
noremap m mmHmt:%s///ge'tzt'm</br>
</br>
"Paste toggle - when pasting something in, don't indent.</br>
set pastetoggle=</br>
</br>
"Remove indenting on empty lines</br>
map :%s/\s*$//g:noh''</br>
</br>
"Super paste</br>
inoremap :set pastemui+mv'uV'v=:set nopaste</br>
</br>
"A function that inserts links &amp; anchors on a TOhtml export.</br>
" Notice:</br>
" Syntax used is:</br>
" Link</br>
" Anchor</br>
function! SmartTOHtml()</br>
TOhtml</br>
try</br>
%s/"\s\+\*&gt; \(.\+\)<!--" <a href="#\1" mce_href="#\1" style="color: cyan" mce_style="color: cyan;"-->\1&lt;\/a&gt;</br>
%s/"\(-\|\s\)\+\*&gt; \(.\+\)<!--" \&nbsp;\&nbsp; <a href="#\2" mce_href="#\2" style="color: cyan;" mce_style="color: cyan;"-->\2&lt;\/a&gt;</br>
%s/"\s\+=&gt; \(.\+\)<!--" <a name="\1" style="color: #fff" mce_style="color: #fff;"-->\1&lt;\/a&gt;</br>
catch</br>
endtry</br>
exe ":write!"</br>
exe ":bd"</br>
endfunction
